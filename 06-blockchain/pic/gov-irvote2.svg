<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1292px" preserveAspectRatio="none" style="width:759px;height:1292px;" version="1.1" viewBox="0 0 759 1292" width="759px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m59dbj455c3w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="129.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="85.5" y="950.8438"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="35.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="186.5" y="1168.4844"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="68.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="198.9844"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="129.5547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="368.7734"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="617.2656"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="92.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="739.2031"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="439.8594"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="773.4375"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="1022.3125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="99.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="469.0938"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="802.6719"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="1051.5469"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="134.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="498.3281"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="831.9063"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="1080.7813"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="46.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="661.5" y="267.4531"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="661.5" y="646.5"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="63.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="712.5" y="675.7344"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="434.5156" style="stroke: #000000; stroke-width: 2.0;" width="734.5" x="12" y="71.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="319.5781" style="stroke: #000000; stroke-width: 2.0;" width="556" x="192" y="520.3281"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="364.8125" style="stroke: #000000; stroke-width: 2.0;" width="552" x="43" y="853.9063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="90" x2="90" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="191" x2="191" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="326" x2="326" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="467" x2="467" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="516" x2="516" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="565" x2="565" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="615" x2="615" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="666" x2="666" y1="54.8125" y2="1235.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="717" x2="717" y1="54.8125" y2="1235.7188"/><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="53" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="68" y="22.9883">NeoFS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="60" y="39.3945">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="53" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="68" y="1254.707">NeoFS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="60" y="1271.1133">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="154" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="163.5" y="22.9883">Netmap</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="161" y="39.3945">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="154" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="163.5" y="1254.707">Netmap</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="161" y="1271.1133">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="289" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="303.5" y="22.9883">Voting</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="296" y="39.3945">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="46.8125" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="289" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="303.5" y="1254.707">Voting</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="296" y="1271.1133">contract</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="448" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="455" y="39.3945">IR Ⰰ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="448" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="455" y="1254.707">IR Ⰰ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="497" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="504" y="39.3945">IR Ⰱ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="497" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="504" y="1254.707">IR Ⰱ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="546" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="553" y="39.3945">IR Ⰲ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="546" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="553" y="1254.707">IR Ⰲ</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="595" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="602" y="39.3945">IR 1</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="595" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="602" y="1254.707">IR 1</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="646" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="653" y="39.3945">IR 2</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="646" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="653" y="1254.707">IR 2</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="697" y="19.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="704" y="39.3945">IR 3</text><rect fill="#FEFECE" filter="url(#f1m59dbj455c3w)" height="30.4063" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="697" y="1234.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="704" y="1254.707">IR 3</text><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="129.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="85.5" y="950.8438"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="35.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="186.5" y="1168.4844"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="68.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="198.9844"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="129.5547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="368.7734"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="617.2656"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="92.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="321.5" y="739.2031"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="439.8594"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="773.4375"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="1022.3125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="99.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="469.0938"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="802.6719"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="511.5" y="1051.5469"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="134.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="64.8125"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="498.3281"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="118.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="831.9063"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="87.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="560.5" y="1080.7813"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="46.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="661.5" y="267.4531"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="58.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="661.5" y="646.5"/><rect fill="#FFFFFF" filter="url(#f1m59dbj455c3w)" height="63.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="712.5" y="675.7344"/><path d="M12,71.8125 L140,71.8125 L140,78.8125 L130,88.8125 L12,88.8125 L12,71.8125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="434.5156" style="stroke: #000000; stroke-width: 2.0;" width="734.5" x="12" y="71.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="27" y="84.873">Failed voting</text><polygon fill="#A80036" points="337.5,118.8984,327.5,122.8984,337.5,126.8984,333.5,122.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="466.5" y1="122.8984" y2="122.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="117.7246">Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )</text><path d="M477,94.0469 L477,134.0469 L709,134.0469 L709,104.0469 L699,94.0469 L477,94.0469 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M699,94.0469 L699,104.0469 L709,104.0469 L699,94.0469 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="483" y="111.1074">Each list calculated deterministically</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="483" y="126.3418">by each Alphabet IR node</text><polygon fill="#A80036" points="337.5,160.75,327.5,164.75,337.5,168.75,333.5,164.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="515.5" y1="164.75" y2="164.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="159.5762">Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )</text><polygon fill="#A80036" points="342.5,194.9844,332.5,198.9844,342.5,202.9844,338.5,198.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="564.5" y1="198.9844" y2="198.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="348.5" y="193.8105">Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )</text><path d="M119,177.75 L119,202.75 L312,202.75 L312,187.75 L302,177.75 L119,177.75 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,177.75 L302,187.75 L312,187.75 L302,177.75 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="125" y="194.8105">Need 2/3+1 Alphabet IR votes</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="597.5" x2="607.5" y1="228.2188" y2="238.2188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="597.5" x2="607.5" y1="238.2188" y2="228.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="602.5" y1="233.2188" y2="233.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="228.0449">Notify</text><polygon fill="#A80036" points="649.5,263.4531,659.5,267.4531,649.5,271.4531,653.5,267.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="655.5" y1="267.4531" y2="267.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="333.5" y="262.2793">Notify</text><path d="M22,246.2188 L22,271.2188 L312,271.2188 L312,256.2188 L302,246.2188 L22,246.2188 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,246.2188 L302,256.2188 L312,256.2188 L302,246.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="28" y="263.2793">Only new IR nodes in the list send confirmation</text><polygon fill="#A80036" points="337.5,310.3047,327.5,314.3047,337.5,318.3047,333.5,314.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="665.5" y1="314.3047" y2="314.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="309.1309">Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )</text><path d="M156,285.4531 L156,325.4531 L317,325.4531 L317,295.4531 L307,285.4531 L156,285.4531 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M307,285.4531 L307,295.4531 L317,295.4531 L307,285.4531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="162" y="302.5137">Regular IR confirm only,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="162" y="317.748">without list recalculation</text><polygon fill="#A80036" points="342.5,364.7734,332.5,368.7734,342.5,372.7734,338.5,368.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="466.5" y1="368.7734" y2="368.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="348.5" y="363.5996">EndRound()</text><path d="M472,339.9219 L472,379.9219 L727,379.9219 L727,349.9219 L717,339.9219 L472,339.9219 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M717,339.9219 L717,349.9219 L727,349.9219 L717,339.9219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="478" y="356.9824">Alphabet IR nodes wait for timeout</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="478" y="372.2168">and then invoke round results settlement</text><polygon fill="#A80036" points="202.5,406.625,192.5,410.625,202.5,414.625,198.5,410.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="196.5" x2="320.5" y1="410.625" y2="410.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="208.5" y="405.4512">SetInactiveIR( {1} )</text><polygon fill="#A80036" points="450.5,435.8594,460.5,439.8594,450.5,443.8594,454.5,439.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="456.5" y1="439.8594" y2="439.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="434.6855">Notify</text><polygon fill="#A80036" points="499.5,465.0938,509.5,469.0938,499.5,473.0938,503.5,469.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="505.5" y1="469.0938" y2="469.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="463.9199">Notify</text><polygon fill="#A80036" points="548.5,494.3281,558.5,498.3281,548.5,502.3281,552.5,498.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="554.5" y1="498.3281" y2="498.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="333.5" y="493.1543">Notify</text><path d="M192,520.3281 L349,520.3281 L349,527.3281 L339,537.3281 L192,537.3281 L192,520.3281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="319.5781" style="stroke: #000000; stroke-width: 2.0;" width="556" x="192" y="520.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="207" y="533.3887">New voting round</text><polygon fill="#A80036" points="337.5,554.7969,327.5,558.7969,337.5,562.7969,333.5,558.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="466.5" y1="558.7969" y2="558.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="553.623">Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="337.5,584.0313,327.5,588.0313,337.5,592.0313,333.5,588.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="515.5" y1="588.0313" y2="588.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="582.8574">Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="342.5,613.2656,332.5,617.2656,342.5,621.2656,338.5,617.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="564.5" y1="617.2656" y2="617.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="348.5" y="612.0918">Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="649.5,642.5,659.5,646.5,649.5,650.5,653.5,646.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="655.5" y1="646.5" y2="646.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="641.3262">Notify</text><polygon fill="#A80036" points="700.5,671.7344,710.5,675.7344,700.5,679.7344,704.5,675.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="706.5" y1="675.7344" y2="675.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="333.5" y="670.5605">Notify</text><polygon fill="#A80036" points="337.5,700.9688,327.5,704.9688,337.5,708.9688,333.5,704.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="665.5" y1="704.9688" y2="704.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="343.5" y="699.7949">Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="342.5,735.2031,332.5,739.2031,342.5,743.2031,338.5,739.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="716.5" y1="739.2031" y2="739.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="348.5" y="734.0293">Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><path d="M202,717.9688 L202,742.9688 L312,742.9688 L312,727.9688 L302,717.9688 L202,717.9688 " fill="#FBFB77" filter="url(#f1m59dbj455c3w)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,717.9688 L302,727.9688 L312,727.9688 L302,717.9688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="208" y="735.0293">Got new IR List!</text><polygon fill="#A80036" points="450.5,769.4375,460.5,773.4375,450.5,777.4375,454.5,773.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="456.5" y1="773.4375" y2="773.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="768.2637">Notify</text><polygon fill="#A80036" points="499.5,798.6719,509.5,802.6719,499.5,806.6719,503.5,802.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="505.5" y1="802.6719" y2="802.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="338.5" y="797.498">Notify</text><polygon fill="#A80036" points="548.5,827.9063,558.5,831.9063,548.5,835.9063,552.5,831.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="554.5" y1="831.9063" y2="831.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="333.5" y="826.7324">Notify</text><path d="M43,853.9063 L173,853.9063 L173,860.9063 L163,870.9063 L43,870.9063 L43,853.9063 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="364.8125" style="stroke: #000000; stroke-width: 2.0;" width="552" x="43" y="853.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="58" y="866.9668">Update IR list</text><polygon fill="#A80036" points="101.5,888.375,91.5,892.375,101.5,896.375,97.5,892.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="95.5" x2="466.5" y1="892.375" y2="892.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="107.5" y="887.2012">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="101.5,917.6094,91.5,921.6094,101.5,925.6094,97.5,921.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="95.5" x2="515.5" y1="921.6094" y2="921.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="107.5" y="916.4355">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="106.5,946.8438,96.5,950.8438,106.5,954.8438,102.5,950.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="564.5" y1="950.8438" y2="950.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="112.5" y="945.6699">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="95.5" x2="137.5" y1="980.0781" y2="980.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="137.5" x2="137.5" y1="980.0781" y2="993.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="96.5" x2="137.5" y1="993.0781" y2="993.0781"/><polygon fill="#A80036" points="106.5,989.0781,96.5,993.0781,106.5,997.0781,102.5,993.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="102.5" y="974.9043">Update IR list</text><polygon fill="#A80036" points="450.5,1018.3125,460.5,1022.3125,450.5,1026.3125,454.5,1022.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="95.5" x2="456.5" y1="1022.3125" y2="1022.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="102.5" y="1017.1387">Notify</text><polygon fill="#A80036" points="499.5,1047.5469,509.5,1051.5469,499.5,1055.5469,503.5,1051.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="95.5" x2="505.5" y1="1051.5469" y2="1051.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="102.5" y="1046.373">Notify</text><polygon fill="#A80036" points="548.5,1076.7813,558.5,1080.7813,548.5,1084.7813,552.5,1080.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90.5" x2="554.5" y1="1080.7813" y2="1080.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="97.5" y="1075.6074">Notify</text><polygon fill="#A80036" points="202.5,1106.0156,192.5,1110.0156,202.5,1114.0156,198.5,1110.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="196.5" x2="466.5" y1="1110.0156" y2="1110.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="208.5" y="1104.8418">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="202.5,1135.25,192.5,1139.25,202.5,1143.25,198.5,1139.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="196.5" x2="515.5" y1="1139.25" y2="1139.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="208.5" y="1134.0762">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><polygon fill="#A80036" points="207.5,1164.4844,197.5,1168.4844,207.5,1172.4844,203.5,1168.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="564.5" y1="1168.4844" y2="1168.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="213.5" y="1163.3105">UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="196.5" x2="238.5" y1="1202.7188" y2="1202.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238.5" x2="238.5" y1="1202.7188" y2="1215.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="191.5" x2="238.5" y1="1215.7188" y2="1215.7188"/><polygon fill="#A80036" points="201.5,1211.7188,191.5,1215.7188,201.5,1219.7188,197.5,1215.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="203.5" y="1197.5449">Update IR list</text><!--MD5=[4a012a8244f3f112cf20e36f3579a94e]
@startuml

participant "NeoFS\ncontract" as nfscon
participant "Netmap\ncontract" as netmap
participant "Voting\ncontract" as vote

participant "IR Ⰰ" as irA
participant "IR Ⰱ" as irB
participant "IR Ⰲ" as irV

participant "IR 1" as ir1
participant "IR 2" as ir2
participant "IR 3" as ir3

group Failed voting
activate irA
activate irB
activate irV
irA -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )
deactivate irA

note right: Each list calculated deterministically \nby each Alphabet IR node
irB -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )
deactivate irB
irV -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )
note left: Need 2/3+1 Alphabet IR votes
deactivate irV

activate vote
vote ->x ir1: Notify
vote -> ir2: Notify
note left: Only new IR nodes in the list send confirmation
deactivate vote

activate ir2
ir2 -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,1,2} )
note left: Regular IR confirm only,\nwithout list recalculation
deactivate ir2

irA -> vote: EndRound()
activate vote
note right: Alphabet IR nodes wait for timeout \nand then invoke round results settlement
vote -> netmap: SetInactiveIR( {1} )

vote -> irA: Notify
activate irA

vote -> irB: Notify
activate irB

vote -> irV: Notify
deactivate vote
activate irV
end

group New voting round
irA -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irA
irB -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irB
irV -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irV
activate vote
vote -> ir2: Notify
activate ir2
vote -> ir3: Notify
deactivate vote
activate ir3
ir2 -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate ir2
ir3 -> vote: Prepare( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate ir3
activate vote
note left: Got new IR List!
vote -> irA: Notify
activate irA
vote -> irB: Notify
activate irB
vote -> irV: Notify
deactivate vote
activate irV
end

group Update IR list
irA -> nfscon: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irA
irB -> nfscon: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irB
irV -> nfscon: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irV
activate nfscon
nfscon -> nfscon: Update IR list
nfscon -> irA: Notify
activate irA
nfscon -> irB: Notify
activate irB
nfscon -> irV: Notify
deactivate nfscon
activate irV
irA -> netmap: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irA
irB -> netmap: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irB
irV -> netmap: UpdateInnerRing( {Ⰰ,Ⰱ,Ⰲ,2,3} )
deactivate irV
activate netmap
netmap -> netmap: Update IR list
deactivate netmap

end

@enduml

PlantUML version 1.2020.09(Sun May 10 13:51:06 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.25+9-suse-150000.3.119.1-x8664
Operating System: Linux
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>