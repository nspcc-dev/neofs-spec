<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="423px" preserveAspectRatio="none" style="width:347px;height:423px;" version="1.1" viewBox="0 0 347 423" width="347px" zoomAndPan="magnify"><defs><filter height="300%" id="f16absvwy4s8ns" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f16absvwy4s8ns)" height="311" style="stroke: #000000; stroke-width: 2.0;" width="322.5" x="13" y="55.2969"/><rect fill="#FFFFFF" height="154.3359" style="stroke: none; stroke-width: 1.0;" width="322.5" x="13" y="211.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="45" x2="45" y1="38.2969" y2="383.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="100" x2="100" y1="38.2969" y2="383.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="163" x2="163" y1="38.2969" y2="383.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="277.5" x2="277.5" y1="38.2969" y2="383.2969"/><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="30" y="22.9951">IR Ⰰ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="23" y="382.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="30" y="402.292">IR Ⰰ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="77" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="84" y="22.9951">IR Ⰱ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="77" y="382.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="84" y="402.292">IR Ⰱ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="138" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="145" y="22.9951">SC Ⰰ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="138" y="382.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="145" y="402.292">SC Ⰰ</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="230.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="237.5" y="22.9951">SC Netmap</text><rect fill="#FEFECE" filter="url(#f16absvwy4s8ns)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="230.5" y="382.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="237.5" y="402.292">SC Netmap</text><path d="M13,55.2969 L77,55.2969 L77,62.2969 L67,72.2969 L13,72.2969 L13,55.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="311" style="stroke: #000000; stroke-width: 2.0;" width="322.5" x="13" y="55.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="68.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="92" y="67.5073">[successful case]</text><polygon fill="#A80036" points="151,89.5625,161,93.5625,151,97.5625,155,93.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45" x2="157" y1="93.5625" y2="93.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="52" y="88.4966">Emit()</text><polygon fill="#A80036" points="266,118.6953,276,122.6953,266,126.6953,270,122.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="272" y1="122.6953" y2="122.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="170" y="117.6294">InnerRingList()</text><polygon fill="#A80036" points="174,152.8281,164,156.8281,174,160.8281,170,156.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="168" x2="277" y1="156.8281" y2="156.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="180" y="151.7622">[]PublicKeys</text><path d="M54,135.6953 L54,160.6953 L154,160.6953 L154,145.6953 L144,135.6953 L54,135.6953 " fill="#FBFB77" filter="url(#f16absvwy4s8ns)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M144,135.6953 L144,145.6953 L154,145.6953 L144,135.6953 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="60" y="152.7622">valid invoker</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="205" y1="190.9609" y2="190.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="205" x2="205" y1="190.9609" y2="203.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="164" x2="205" y1="203.9609" y2="203.9609"/><polygon fill="#A80036" points="174,199.9609,164,203.9609,174,207.9609,170,203.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="170" y="185.895">emit gas</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="335.5" y1="212.9609" y2="212.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="18" y="223.1714">[panic case]</text><polygon fill="#A80036" points="151,243.8984,161,247.8984,151,251.8984,155,247.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100" x2="157" y1="247.8984" y2="247.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="107" y="242.8325">Emit()</text><polygon fill="#A80036" points="266,273.0313,276,277.0313,266,281.0313,270,277.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="272" y1="277.0313" y2="277.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="170" y="271.9653">InnerRingList()</text><polygon fill="#A80036" points="174,307.1641,164,311.1641,174,315.1641,170,311.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="168" x2="277" y1="311.1641" y2="311.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="180" y="306.0981">[]PublicKeys</text><path d="M43,290.0313 L43,315.0313 L154,315.0313 L154,300.0313 L144,290.0313 L43,290.0313 " fill="#FBFB77" filter="url(#f16absvwy4s8ns)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M144,290.0313 L144,300.0313 L154,300.0313 L144,290.0313 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="49" y="307.0981">invalid invoker</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="205" y1="345.2969" y2="345.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="205" x2="205" y1="345.2969" y2="358.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="176" x2="205" y1="358.2969" y2="358.2969"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="169" x2="179" y1="353.2969" y2="363.2969"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="169" x2="179" y1="363.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="170" y="340.231">panic</text><!--
@startuml

participant "IR Ⰰ" as ir1
participant "IR Ⰱ" as ir2
participant "SC Ⰰ" as az
participant "SC Netmap" as nm


alt successful case
  ir1 -> az: Emit()
  az -> nm: InnerRingList()
  nm -> az: []PublicKeys
  note left
    valid invoker
  end note
  az -> az: emit gas
else panic case
  ir2 -> az: Emit()
  az -> nm: InnerRingList()
  nm -> az: []PublicKeys
  note left
    invalid invoker
  end note
  az -x az: panic
end
@enduml

PlantUML version 1.2019.07(Mon Jun 24 22:59:20 MSK 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
OS Version: 4.19.0-10-amd64
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>